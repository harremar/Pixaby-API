{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ImageCard from\"./components/imageCard\";import ImageSearch from\"./components/imageSearch\";import Modal from\"./components/modal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[images,setImages]=useState([]);const[isLoading,setIsLoading]=useState(true);const[term,setTerm]=useState(\"\");const[showModal,setShowModal]=useState(false);const[selectedImage,setSelectedImage]=useState(null);const[currentPage,setCurrentPage]=useState(1);const[imagesPerPage]=useState(6);const[totalImages,setTotalImages]=useState(0);useEffect(()=>{setIsLoading(true);fetch(\"https://pixabay.com/api/?key=\".concat(process.env.REACT_APP_PIXABAY_API_KEY,\"&q=\").concat(term,\"&image_type=photo&pretty=true&page=\").concat(currentPage,\"&per_page=\").concat(imagesPerPage)).then(res=>res.json()).then(data=>{setImages(data.hits);setTotalImages(data.totalHits);// Total number of images\nsetIsLoading(false);}).catch(err=>console.log(err));},[term,currentPage]);const handleImageClick=image=>{setSelectedImage(image);setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);setSelectedImage(null);};const nextPage=()=>{setCurrentPage(prevPage=>prevPage+1);};const prevPage=()=>{setCurrentPage(prevPage=>prevPage>1?prevPage-1:1);};const totalPages=Math.ceil(totalImages/imagesPerPage);return/*#__PURE__*/_jsxs(\"div\",{className:\" mx-auto px-4 pb-4 bg-gray-100 min-h-screen\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mx-auto pt-10\",children:\"Stunning Free Images\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-center mx-auto pt-2\",children:\"stock images from Pixaby API!\"}),/*#__PURE__*/_jsx(ImageSearch,{searchText:text=>{setTerm(text);setCurrentPage(1);// Reset to the first page on new search\n}}),!isLoading&&images.length===0&&/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl text-center mx-auto\",children:\"No Images Found\"}),isLoading?/*#__PURE__*/_jsx(\"h1\",{className:\"text-6xl text-center mx-auto mt-32\",children:\"Loading...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\",children:images.map(image=>/*#__PURE__*/_jsx(ImageCard,{image:image,onClick:handleImageClick},image.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center my-4\",children:[currentPage>1&&/*#__PURE__*/_jsx(\"button\",{onClick:prevPage,className:\"bg-purple-500 text-white px-4 py-2 mx-2 rounded hover:bg-purple-600\",children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700 px-4 py-2 mx-2 rounded\",children:[\"Page \",currentPage,\" of \",totalPages]}),currentPage<totalPages&&/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,className:\"bg-purple-500 text-white px-4 py-2 mx-2 rounded hover:bg-purple-600\",children:\"Next\"})]})]}),/*#__PURE__*/_jsx(Modal,{showModal:showModal,image:selectedImage,onClose:handleCloseModal}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-center text-gray-400 mx-auto pt-2\",children:\"created by Marielle Harrell\"})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","ImageCard","ImageSearch","Modal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","images","setImages","isLoading","setIsLoading","term","setTerm","showModal","setShowModal","selectedImage","setSelectedImage","currentPage","setCurrentPage","imagesPerPage","totalImages","setTotalImages","fetch","concat","process","env","REACT_APP_PIXABAY_API_KEY","then","res","json","data","hits","totalHits","catch","err","console","log","handleImageClick","image","handleCloseModal","nextPage","prevPage","totalPages","Math","ceil","className","children","searchText","text","length","map","onClick","id","onClose"],"sources":["C:/Users/13174/OneDrive/Desktop/reactapp-picturesearch/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ImageCard from \"./components/imageCard\";\nimport ImageSearch from \"./components/imageSearch\";\nimport Modal from \"./components/modal\";\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [term, setTerm] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [imagesPerPage] = useState(6);\n  const [totalImages, setTotalImages] = useState(0);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(\n      `https://pixabay.com/api/?key=${process.env.REACT_APP_PIXABAY_API_KEY}&q=${term}&image_type=photo&pretty=true&page=${currentPage}&per_page=${imagesPerPage}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        setImages(data.hits);\n        setTotalImages(data.totalHits); // Total number of images\n        setIsLoading(false);\n      })\n      .catch((err) => console.log(err));\n  }, [term, currentPage]);\n\n  const handleImageClick = (image) => {\n    setSelectedImage(image);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setSelectedImage(null);\n  };\n\n  const nextPage = () => {\n    setCurrentPage((prevPage) => prevPage + 1);\n  };\n\n  const prevPage = () => {\n    setCurrentPage((prevPage) => (prevPage > 1 ? prevPage - 1 : 1));\n  };\n\n  const totalPages = Math.ceil(totalImages / imagesPerPage);\n\n  return (\n    <div className=\" mx-auto px-4 pb-4 bg-gray-100 min-h-screen\">\n      <h1 className=\"text-3xl font-bold text-center mx-auto pt-10\">\n        Stunning Free Images\n      </h1>\n      <p className=\"text-sm text-center mx-auto pt-2\">\n        stock images from Pixaby API!\n      </p>\n      <ImageSearch\n        searchText={(text) => {\n          setTerm(text);\n          setCurrentPage(1); // Reset to the first page on new search\n        }}\n      />\n\n      {!isLoading && images.length === 0 && (\n        <h1 className=\"text-4xl text-center mx-auto\">No Images Found</h1>\n      )}\n      {isLoading ? (\n        <h1 className=\"text-6xl text-center mx-auto mt-32\">Loading...</h1>\n      ) : (\n        <>\n          <div className=\"flex justify-center\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n              {images.map((image) => (\n                <ImageCard\n                  key={image.id}\n                  image={image}\n                  onClick={handleImageClick}\n                />\n              ))}\n            </div>\n          </div>\n          <div className=\"flex justify-center my-4\">\n            {currentPage > 1 && (\n              <button\n                onClick={prevPage}\n                className=\"bg-purple-500 text-white px-4 py-2 mx-2 rounded hover:bg-purple-600\"\n              >\n                Previous\n              </button>\n            )}\n            <span className=\"text-gray-700 px-4 py-2 mx-2 rounded\">\n              Page {currentPage} of {totalPages}\n            </span>\n            {currentPage < totalPages && (\n              <button\n                onClick={nextPage}\n                className=\"bg-purple-500 text-white px-4 py-2 mx-2 rounded hover:bg-purple-600\"\n              >\n                Next\n              </button>\n            )}\n          </div>\n        </>\n      )}\n      <Modal\n        showModal={showModal}\n        image={selectedImage}\n        onClose={handleCloseModal}\n      />\n      <p className=\"text-sm text-center text-gray-400 mx-auto pt-2\">\n        created by Marielle Harrell\n      </p>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}